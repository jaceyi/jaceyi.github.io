I"ò<h2>å‰è¨€</h2>
<p>åœ¨ç°åœ¨ Object å±æ€§é“¾çš„è°ƒç”¨ä¸­ï¼Œå¾ˆå®¹æ˜“å› ä½¿ç”¨ä¸å½“å¯¼è‡´æŸä¸ªå±æ€§ä¸å­˜åœ¨è€ŒæŠ›å‡º <code>Cannot read property 'xxx' of undefined</code> çš„é”™è¯¯ã€‚</p>
<!--more-->
<p>ç°åœ¨å·²ç»æœ‰ä¸€ä¸ªè‰æ¡ˆ <a href="https://tc39.es/proposal-optional-chaining/">Optional Chaining</a> å¯ä»¥å¾ˆæ–¹ä¾¿çš„è§£å†³è¿™ä¸ªé—®é¢˜ã€‚</p>
<h2>ä¾‹å­</h2>
<h3>è®¿é—®æ·±å±‚æ¬¡åµŒå¥—çš„å±æ€§</h3>
<pre>
  <code class="language-js">
const obj = {
  foo: {
    bar: {
      baz: 42
    }
  }
};

const baz = obj?.foo?.bar?.baz; // 42

const safe = obj?.qux?.baz; // undefined
  </code>
</pre>
<h3>è°ƒç”¨å±‚æ¬¡åµŒå¥—çš„å‡½æ•°</h3>
<pre>
  <code class="language-js">
const obj = {
  foo: {
    bar: {
      baz() {
        return 42;
      }
    }
  }
};

const baz = obj?.foo?.bar?.baz(); // 42

const safe = obj?.qux?.baz(); // undefined
const safe2 = obj?.foo.bar.qux?.(); // undefined
const safe3 = obj?.xxx?.yyy?.[0]; // undefined

const willThrow = obj?.foo.bar.qux(); // Error: not a function
  </code>
</pre>
<h3>é¡¶å±‚å‡½æ•°</h3>
<pre>
  <code class="language-js">
function test() {
  return 42;
}

test?.(); // 42
exists?.(); // undefined
  </code>
</pre>
<blockquote>
  <p>ç±»çš„å†™æ³•åŒæ–¹æ³•ä¸€æ ·ã€‚</p>
</blockquote>
<h2>ç”¨æ³•</h2>
<h3>å®‰è£…æ’ä»¶</h3>
<pre>
  <code class="language-shell">
yarn add @babel/plugin-proposal-optional-chaining -D
  </code>
</pre>
<h3>.babelrc</h3>
<pre>
  <code class="language-json">
{
  "plugins": ["@babel/plugin-proposal-optional-chaining"]
}
  </code>
</pre>
:ET